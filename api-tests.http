### ZMeow API - Arquivo de Testes HTTP
### Base URL: http://localhost:8080

### Vari√°veis (substitua pelos valores reais ap√≥s criar uma sess√£o)
@baseUrl = http://localhost:8080
@sessionID = 8799e8f1-6f9e-4448-be65-8c70b48ca3e9

### ===== INSTRU√á√ïES DE USO =====
### 
### üöÄ COMO CONECTAR AO WHATSAPP:
### 1. Execute: POST {{baseUrl}}/sessions/add (para criar uma sess√£o)
### 2. Execute: POST {{baseUrl}}/sessions/{{sessionID}}/connect (para conectar)
### 3. Execute: GET {{baseUrl}}/sessions/{{sessionID}}/qr (QR Code aparece NO TERMINAL!)
### 4. Escaneie o QR Code que apareceu no terminal do servidor
### 5. Aguarde a confirma√ß√£o de conex√£o
###
### üì± COMO ESCANEAR:
### - Abra WhatsApp no celular
### - V√° em: Configura√ß√µes > Aparelhos conectados  
### - Toque: "Conectar um aparelho"
### - Escaneie o QR Code do TERMINAL (n√£o da resposta HTTP)
###### 1. Health Check
GET {{baseUrl}}/health

###

### 2. Criar uma nova sess√£o
POST {{baseUrl}}/sessions/add
Content-Type: application/json

{
  "name": "minha-sessao-teste"
}

###

### 3. Listar todas as sess√µes
GET {{baseUrl}}/sessions/list

###

### 4. Obter informa√ß√µes de uma sess√£o espec√≠fica
# Use a vari√°vel @sessionID definida no topo do arquivo
GET {{baseUrl}}/sessions/{{sessionID}}

###

### 5. Conectar uma sess√£o
# Use a vari√°vel @sessionID definida no topo do arquivo
POST {{baseUrl}}/sessions/{{sessionID}}/connect
Content-Type: application/json

###

### 6. Obter QR Code da sess√£o (APARECE NO TERMINAL!)
# Use a vari√°vel @sessionID definida no topo do arquivo
# ‚ö†Ô∏è  IMPORTANTE: O QR Code ser√° exibido no terminal onde o servidor est√° rodando
# üì± Escaneie o QR Code diretamente do terminal para conectar
GET {{baseUrl}}/sessions/{{sessionID}}/qr

###

### 7. Verificar status da sess√£o
# Use a vari√°vel @sessionID definida no topo do arquivo
GET {{baseUrl}}/sessions/{{sessionID}}/status

###

### 8. Pareamento por telefone
# Use a vari√°vel @sessionID definida no topo do arquivo
POST {{baseUrl}}/sessions/{{sessionID}}/pairphone
Content-Type: application/json

{
  "phoneNumber": "+5511999999999"
}

###

### 9. Configurar proxy
# Use a vari√°vel @sessionID definida no topo do arquivo
POST {{baseUrl}}/sessions/{{sessionID}}/proxy/set
Content-Type: application/json

{
  "proxyUrl": "http://proxy.example.com:8080"
}

###

### 10. Fazer logout da sess√£o
# Use a vari√°vel @sessionID definida no topo do arquivo
POST {{baseUrl}}/sessions/{{sessionID}}/logout
Content-Type: application/json

###

### 11. Deletar sess√£o
# Use a vari√°vel @sessionID definida no topo do arquivo
DELETE {{baseUrl}}/sessions/{{sessionID}}

###

### ===== TESTES COM PAR√ÇMETROS ESPEC√çFICOS =====
### Os par√¢metros duration_ms=2, operation=SELECT, table=dat s√£o relacionados 
### ao sistema de logging interno do banco de dados, n√£o √†s rotas HTTP.
### Estes aparecem nos logs quando opera√ß√µes de banco demoram mais que o esperado.

### Exemplo de teste que pode gerar logs com esses par√¢metros:
### (executar v√°rias opera√ß√µes rapidamente para for√ßar opera√ß√µes de banco)

### Teste r√°pido - Criar m√∫ltiplas sess√µes
POST {{baseUrl}}/sessions/add
Content-Type: application/json

{
  "name": "sessao-teste-1"
}

###

POST {{baseUrl}}/sessions/add
Content-Type: application/json

{
  "name": "sessao-teste-2"
}

###

POST {{baseUrl}}/sessions/add
Content-Type: application/json

{
  "name": "sessao-teste-3"
}

###

### ===== EXEMPLOS COM SESSIONID REAL =====
### Para usar estas rotas, primeiro execute a cria√ß√£o de sess√£o acima
### e substitua o valor da vari√°vel @sessionID no topo do arquivo pelo ID real retornado

### Conectar sess√£o espec√≠fica
POST {{baseUrl}}/sessions/{{sessionID}}/connect
Content-Type: application/json

###

### Obter QR Code da sess√£o espec√≠fica
GET {{baseUrl}}/sessions/{{sessionID}}/qr

###

### Status da sess√£o espec√≠fica
GET {{baseUrl}}/sessions/{{sessionID}}/status

###

### ===== TESTE DO ERRO 404 MENCIONADO =====
### Esta rota causar√° erro 404 (como mostrado nos logs)
### porque a API n√£o tem prefixo /api/v1
POST {{baseUrl}}/api/v1/sessions
Content-Type: application/json

{
  "name": "teste-404"
}

###

### ===== ROTA CORRETA (sem /api/v1) =====
POST {{baseUrl}}/sessions/add
Content-Type: application/json

{
  "name": "teste-correto"
}

###